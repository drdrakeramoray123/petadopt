<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include("../includes/head") %> <%- include("../includes/navbar") %>
        <title>Users</title>
    </head>
    <body class="bg-slate-200">
        <div class="container mx-auto px-4 pt-8">
            <div class="flex flex-wrap">
                <!-- Sidebar -->
                <section class="w-full md:w-1/6 lg:w-1/4 p-4">
                    <%- include("../includes/sidebar") %>
                </section>
                <!-- End Sidebar -->

                <!-- Main -->
                <section class="w-full md:w-5/6 lg:w-3/4 p-4">
                    <div
                        class="bg-white border-transparent h-full rounded-lg shadow-lg"
                    >
                        <div
                            class="bg-blue-700 border-b-2 border-blue-400 rounded-tl-lg rounded-tr-lg p-2"
                        >
                            <h5 class="font-bold uppercase text-white">
                                Users
                            </h5>
                        </div>

                        <div class="flex flex-col">
                            <div class="my-2 overflow-x-auto">
                                <div
                                    class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"
                                >
                                    <div
                                        class="shadow overflow-hidden border-b border-gray-200 sm:rounded-lg"
                                    >
                                        <% if(users.length === 0) { %>
                                        <div class="w-full px-3">
                                            <p
                                                class="text-center text-gray-600"
                                            >
                                                No users yet.
                                            </p>
                                        </div>
                                        <% } else { %>
                                        <table
                                            class="min-w-full divide-y divide-gray-200"
                                        >
                                            <thead class="bg-gray-50">
                                                <tr>
                                                    <th
                                                        scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                                    >
                                                        Name
                                                    </th>
                                                    <th
                                                        scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                                    >
                                                        Address
                                                    </th>
                                                    <th
                                                        scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                                    >
                                                        Status
                                                    </th>
                                                    <th
                                                        scope="col"
                                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"
                                                    >
                                                        View
                                                    </th>
                                                    <th
                                                        scope="col"
                                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"
                                                    >
                                                        Edit
                                                    </th>
                                                    <th
                                                        scope="col"
                                                        class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"
                                                    >
                                                        Delete
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tbody
                                                class="bg-white divide-y divide-gray-200"
                                            >
                                                <% for(let user of users) { %>
                                                <!-- Table Row -->
                                                <%-
                                                include("../includes/user-row",
                                                { user }) %>
                                                <!-- End Table Row -->
                                                <% } %>
                                            </tbody>
                                        </table>
                                        <% } %>
                                    </div>
                                </div>
                                <% currentPage == null ? currentPage = 1 :
                                currentPage %> <% if(pages > 1) { %>
                                <div class="my-2 flex justify-center">
                                    <% for (let i = 1; i <= pages; i++) { %>
                                    <a
                                        href="?page=<%= i %>"
                                        class="m-2 px-4 py-2 rounded-md outline-none <%= currentPage == i ? 'bg-indigo-600 text-white' : 'border-2 border-transparent hover:border-indigo-400 hover:text-indigo-400' %>"
                                    >
                                        <%= i %>
                                    </a>
                                    <% } %>
                                </div>
                                <% } %>
                            </div>
                        </div>
                    </div>
                </section>
                <!-- End Main -->
            </div>
        </div>
        <%- include("../includes/footer") %>
    </body>
</html>
